recipe take @s nbtcrafting:headtrader
advancement revoke @s only nbtcrafting:crafting/headtrader
summon villager ~ ~ ~ {VillagerData:{profession:farmer,level:2,type:plains},Invulnerable:1,PersistenceRequired:1,Silent:1,NoAI:1,CustomName:"\"De-Compactor\"",Offers:{Recipes:[{buy:{id:player_head,tag:{display:{Name:"{\"text\":\"Compacted Coal Ore\"}"},SkullOwner:{Id:[I;-214162268,-775075038,-2097320342,176997484],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMzZkYWZiNzY2MTViMGI2YmNmZjU0MzZkYTRiY2E3MGJjYzQ5ZGE2M2E4ZGY4MjM5MWQxYTk4NGZjNTlmZjBhMyJ9fX0="}]}}},Count:1},sell:{id:coal,Count:4},rewardExp:0b,maxUses:9999999},{buy:{id:player_head,tag:{display:{Name:"{\"text\":\"Compacted Iron Ore\"}"},SkullOwner:{Id:[I;-1916531163,954024394,-1773722330,279868712],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMzA2Y2U2MDQ4ZGNjOGFiNzRlMWJjZGUyOWNlOWVlNjcwOGU2MGQ2M2JlMGE5NTY4ZTBhNDMyZjE1YjM2NDMzYiJ9fX0="}]}}},Count:1},sell:{id:raw_iron,Count:4},rewardExp:0b,maxUses:9999999}]}}
clear @s minecraft:knowledge_book